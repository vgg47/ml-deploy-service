schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py datasets/password-complexity/data.csv datasets/password-complexity/prepared
    deps:
    - path: datasets/password-complexity/data.csv
      md5: eb1f5d6aaf81aaa41c7ff965dc694b90
      size: 47026665
    - path: src/prepare.py
      md5: 760a9eed82808604c3c14c4d193deefb
      size: 718
    params:
      params.yaml:
        prepare.seed: 20170428
        prepare.split: 0.2
    outs:
    - path: datasets/password-complexity/prepared
      md5: c6cf1105c43c45d13699ff4098ca51f2.dir
      size: 79127517
      nfiles: 2
  featurize:
    cmd: python src/featurize.py datasets/password-complexity/prepared datasets/password-complexity/featurized
    deps:
    - path: datasets/password-complexity/prepared
      md5: c6cf1105c43c45d13699ff4098ca51f2.dir
      size: 79127517
      nfiles: 2
    - path: src/featurize.py
      md5: d28f972ad4494d0d87b1c45d440a0eea
      size: 2532
    outs:
    - path: datasets/password-complexity/featurized
      md5: aaff73879a51d552d750f8b18ed78cf9.dir
      size: 146679586
      nfiles: 2
  train:
    cmd: python src/train.py datasets/password-complexity/featurized ml-models-service/ml_models/password_complexity/xgboost_baseline.pkl
    deps:
    - path: datasets/password-complexity/featurized
      md5: aaff73879a51d552d750f8b18ed78cf9.dir
      size: 146679586
      nfiles: 2
    - path: src/train.py
      md5: 295707081d61fd3530abb40467459ae5
      size: 1157
    params:
      params.yaml:
        train.eval_metric: rmsle
        train.n_estimators: 100
        train.nthread: -1
        train.objective: reg:squaredlogerror
    outs:
    - path: ml-models-service/ml_models/password_complexity/xgboost_baseline.pkl
      md5: fc4df8bf6e870c244837a9bee7b0a762
      size: 431581
  evaluate:
    cmd: python src/evaluate.py ml-models-service/ml_models/password_complexity/xgboost_baseline.pkl
      datasets/password-complexity/featurized metrics.json
    deps:
    - path: datasets/password-complexity/featurized
      md5: aaff73879a51d552d750f8b18ed78cf9.dir
      size: 146679586
      nfiles: 2
    - path: ml-models-service/ml_models/password_complexity/xgboost_baseline.pkl
      md5: fc4df8bf6e870c244837a9bee7b0a762
      size: 431581
    - path: src/evaluate.py
      md5: 749db710c66b80cb4c61e397817b22a5
      size: 1144
    outs:
    - path: metrics.json
      md5: 0479c334480dd1021c273811c5c8e67c
      size: 154
