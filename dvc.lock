schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py datasets/password-complexity/data.csv datasets/password-complexity/prepared
    deps:
    - path: datasets/password-complexity/data.csv
      md5: eb1f5d6aaf81aaa41c7ff965dc694b90
      size: 47026665
    - path: src/prepare.py
      md5: 2c8f346faf6d5204733bc3b60dcea07f
      size: 735
    params:
      params.yaml:
        prepare.seed: 20170428
        prepare.split: 0.2
    outs:
    - path: datasets/password-complexity/prepared
      md5: b58a0cfc1b87763f65e4b2c11d953360.dir
      size: 79127517
      nfiles: 2
  featurize:
    cmd: python src/featurize.py datasets/password-complexity/prepared datasets/password-complexity/featurized
    deps:
    - path: datasets/password-complexity/prepared
      md5: b58a0cfc1b87763f65e4b2c11d953360.dir
      size: 79127517
      nfiles: 2
    - path: src/featurize.py
      md5: c23a0a98d1de81972fc47b9c4a045df1
      size: 2534
    outs:
    - path: datasets/password-complexity/featurized
      md5: aa4fcb3929551601cd3aa6328274e058.dir
      size: 146679586
      nfiles: 2
  train:
    cmd: python src/train.py datasets/password-complexity/featurized ml-models-service/ml_models/password_complexity/models
      xgboost_baseline
    deps:
    - path: datasets/password-complexity/featurized
      md5: aa4fcb3929551601cd3aa6328274e058.dir
      size: 146679586
      nfiles: 2
    - path: src/train.py
      md5: d188401b02dc0a54866391ca2c085126
      size: 1255
    params:
      params.yaml:
        train.eval_metric: rmsle
        train.model_version: 1
        train.n_estimators: 100
        train.nthread: -1
        train.objective: reg:squaredlogerror
    outs:
    - path: ml-models-service/ml_models/password_complexity/models
      md5: d0575a5b15b7ac0c5dc1b871531a23d8.dir
      size: 489691
      nfiles: 1
  evaluate:
    cmd: python src/evaluate.py ml-models-service/ml_models/password_complexity/models
      xgboost_baseline datasets/password-complexity/featurized metrics
    deps:
    - path: datasets/password-complexity/featurized
      md5: aa4fcb3929551601cd3aa6328274e058.dir
      size: 146679586
      nfiles: 2
    - path: ml-models-service/ml_models/password_complexity/models
      md5: d0575a5b15b7ac0c5dc1b871531a23d8.dir
      size: 489691
      nfiles: 1
    - path: src/evaluate.py
      md5: 993e4e500a4fdaf66e2571e58fa7743e
      size: 1483
    outs:
    - path: metrics/loss.json
      md5: f1d7b9710d903a7375516b5145c45f72
      size: 98
    - path: metrics/scores.json
      md5: 697107d72e4c9a34096e287d67e01eaf
      size: 38
